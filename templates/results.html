<html>
  <head>
    Results
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/style.css') }}">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/results.css') }}">
  </head>
  <body>

    <div>
    <form action='/'>
      <button>New Search</button>
    </form>
    </div>

    <div id='spellchecking'>
        <p id="userQuery">Searched quote: {{query}}</p>
        <br>
        <input type='text' id="inputQuote" style="display: none;" value="{{query}}">
        <button id = 'spellcheckButton' onclick='check_spelling()'>Check spelling</button>
        <br>
    </div>

    <div>
        <p id="results">
            {% if result is not string %}
                {% for doc in result %}
                    {% set id = doc['id'] %}
                    {% set info = doc|tojson %}
                    <div id="{{id}}" class="{{doc['type'] ~ ' result'}}">
                        {% if doc['type'] == 'yt' %}
                            <a class="title link" href='javascript:;' onclick='directToVideo({{info}}, "0")'>{{doc['title']}}</a>
                            <div>
                                <a class="thumbnail" href='javascript:;' onclick='directToVideo({{info}}, "0")'>
                                    <img src="{{doc['thumb']}}" width=320 height=180 alt="thumbnail">
                                </a>
                                <p class="info">{{doc['channel']}} â€¢ {{doc['date']}}</p>
                                <ul class="stamp-list">
                                    {% for tuple in doc['list'] %}
                                        <li><a class="stamp link" href='javascript:;' onclick='directToVideo({{info}}, "{{loop.index0}}")'>{{time_string(tuple[1])}}</a> {{tuple[0]}}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% else %}
                            <h2>ID: {{id}}</h2>
                            <ul>
                                {% for tuple in doc['list'] %}
                                    <li><a href='#'>{{time_string(tuple[1])}}</a> {{tuple[0]}}</li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                    </div>
                    <br>
                {% endfor %}
            {% else %}
                {{result}}
            {% endif %}
        </p>
    </div>
  </body>

  <script src="https://unpkg.com/json5@^2.0.0/dist/index.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" src="{{url_for('static', filename='results.js')}}"></script>
</html>


