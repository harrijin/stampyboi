<html>
  <head>
    Results
  </head>
  <body>

    <div>
    <form action='/'>
      <input type='submit' value='New search'>
    </form>
    </div>

    <div id='spellchecking'>
        <p id="userQuery">Searched quote: {{query}}</p>
        <br>
        <input type='text' id="inputQuote" style="display: none;" value="{{query}}">
        <button id = 'spellcheckButton' onclick='check_spelling()'>Check spelling</button>
        <br>
    </div>

    <div>
        <p id="results">
            {% if result is not string %}
                {% for doc in result %}
                    {% set id = doc['id'] %}
                    {% set info = doc|tojson %}
                    <div id="{{id}}" class="{{doc['type']}}">
                        {% if doc['type'] == 'yt' %}
                            <h2><a class="title" href='javascript:;' onclick='directToVideo({{info}}, "0")'>{{doc['title']}}</a></h2>
                            <p class="channel">{{doc['channel']}}</p>
                            <p class="date">{{doc['date']}}</p>
                            <a href='javascript:;' onclick='directToVideo({{info}}, "0")'><img class="thumbnail" src="{{doc['thumb']}}" alt="thumbnail"></a>
                            <ul>
                                {% for tuple in doc['list'] %}
                                    <li><a href='javascript:;' onclick='directToVideo({{info}}, "{{loop.index0}}")'>{{time_string(tuple[1])}}</a> {{tuple[0]}}</li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <h2>ID: {{id}}</h2>
                            <ul>
                                {% for tuple in doc['list'] %}
                                    <li><a href='#'>{{time_string(tuple[1])}}</a> {{tuple[0]}}</li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                    </div>
                {% endfor %}
            {% else %}
                {{result}}
            {% endif %}
        </p>
    </div>
  </body>

  <script src="https://unpkg.com/json5@^2.0.0/dist/index.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type="text/javascript" src="{{url_for('static', filename='results.js')}}"></script>
</html>


